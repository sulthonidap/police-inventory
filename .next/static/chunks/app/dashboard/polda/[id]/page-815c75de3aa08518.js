(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1283],{8795:(e,s,a)=>{Promise.resolve().then(a.bind(a,790))},9321:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});let l=(0,a(8030).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},790:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var l=a(7437),t=a(2265),r=a(6463),c=a(8185),d=a(9733),i=a(9055),n=a(7304),x=a(5137),m=a(4499),o=a(7524),h=a(4241),j=a(9321);let p=(0,a(8030).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var N=a(6763);function u(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),{toast:a}=(0,N.pm)(),[u,f]=(0,t.useState)(null),[v,b]=(0,t.useState)([]),[g,y]=(0,t.useState)(!0);(0,t.useEffect)(()=>{e.id&&(w(),k())},[e.id]);let w=async()=>{try{let s=await fetch("/api/polda/".concat(e.id));if(s.ok){let e=await s.json();f(e)}else a({title:"Error",description:"Gagal memuat data Polda",variant:"destructive"})}catch(e){console.error("Error fetching polda:",e),a({title:"Error",description:"Terjadi kesalahan saat memuat data",variant:"destructive"})}},k=async()=>{try{let s=await fetch("/api/polres?poldaId=".concat(e.id));if(s.ok){let e=await s.json();b(e.polres||[])}else a({title:"Error",description:"Gagal memuat data Polres",variant:"destructive"})}catch(e){console.error("Error fetching polres:",e),a({title:"Error",description:"Terjadi kesalahan saat memuat data Polres",variant:"destructive"})}finally{y(!1)}},C=()=>{s.push("/dashboard/polda")},P=e=>new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});return g?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)(d.z,{variant:"outline",onClick:C,className:"flex items-center space-x-2",children:[(0,l.jsx)(x.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Kembali"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:u.name}),(0,l.jsx)("p",{className:"text-gray-600",children:"Detail Polda dan Daftar Polres"})]})]}),(0,l.jsx)(i.C,{variant:"secondary",className:"text-lg px-4 py-2",children:u.code})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)(c.Zb,{children:[(0,l.jsx)(c.Ol,{children:(0,l.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,l.jsx)(m.Z,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Informasi Polda"})]})}),(0,l.jsxs)(c.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Nama Polda"}),(0,l.jsx)("p",{className:"text-lg font-semibold",children:u.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Kode"}),(0,l.jsx)("p",{className:"text-lg",children:u.code})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Alamat"}),(0,l.jsx)("p",{className:"text-sm",children:u.address})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Telepon"}),(0,l.jsx)("p",{className:"text-sm",children:u.phone})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,l.jsx)("p",{className:"text-sm",children:u.email})]})]})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsx)(c.Ol,{children:(0,l.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,l.jsx)(o.Z,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Statistik"})]})}),(0,l.jsx)(c.aY,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:u._count.polres}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Polres"})]}),(0,l.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:u._count.users}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Users"})]}),(0,l.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:u._count.assets}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Assets"})]}),(0,l.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:u._count.reports}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Reports"})]})]})})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsx)(c.Ol,{children:(0,l.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,l.jsx)(h.Z,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Timeline"})]})}),(0,l.jsxs)(c.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Dibuat"}),(0,l.jsx)("p",{className:"text-sm",children:P(u.createdAt)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Terakhir Update"}),(0,l.jsx)("p",{className:"text-sm",children:P(u.updatedAt)})]})]})]})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsx)(c.Ol,{children:(0,l.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,l.jsx)(m.Z,{className:"w-5 h-5"}),(0,l.jsxs)("span",{children:["Daftar Polres (",v.length,")"]})]})}),(0,l.jsx)(c.aY,{children:0===v.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Belum ada Polres yang terdaftar"})]}):(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(n.iA,{children:[(0,l.jsx)(n.xD,{children:(0,l.jsxs)(n.SC,{children:[(0,l.jsx)(n.ss,{children:"Nama Polres"}),(0,l.jsx)(n.ss,{children:"Kode"}),(0,l.jsx)(n.ss,{children:"Alamat"}),(0,l.jsx)(n.ss,{children:"Kontak"}),(0,l.jsx)(n.ss,{children:"Statistik"}),(0,l.jsx)(n.ss,{children:"Tanggal Dibuat"})]})}),(0,l.jsx)(n.RM,{children:v.map(e=>(0,l.jsxs)(n.SC,{className:"hover:bg-gray-50",children:[(0,l.jsx)(n.pj,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.name}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)(i.C,{variant:"outline",children:e.code})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(j.Z,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:e.address})]})})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(p,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:e.phone})]})})}),(0,l.jsx)(n.pj,{children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)(i.C,{variant:"secondary",className:"text-xs",children:[e._count.users," Users"]}),(0,l.jsxs)(i.C,{variant:"secondary",className:"text-xs",children:[e._count.assets," Assets"]}),(0,l.jsxs)(i.C,{variant:"secondary",className:"text-xs",children:[e._count.reports," Reports"]})]})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)("div",{className:"text-sm text-gray-500",children:P(e.createdAt)})})]},e.id))})]})})})]})]}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Polda Tidak Ditemukan"}),(0,l.jsx)(d.z,{onClick:C,children:"Kembali ke Daftar Polda"})]})}},7304:(e,s,a)=>{"use strict";a.d(s,{RM:()=>i,SC:()=>n,iA:()=>c,pj:()=>m,ss:()=>x,xD:()=>d});var l=a(7437),t=a(2265),r=a(9354);let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",a),...t})})});c.displayName="Table";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",a),...t})});d.displayName="TableHeader";let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...t})});i.displayName="TableBody",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t})}).displayName="TableFooter";let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t})});n.displayName="TableRow";let x=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("th",{ref:s,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...t})});x.displayName="TableHead";let m=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("td",{ref:s,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...t})});m.displayName="TableCell",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...t})}).displayName="TableCaption"}},e=>{var s=s=>e(e.s=s);e.O(0,[8502,7696,7130,6215,1744],()=>s(8795)),_N_E=e.O()}]);