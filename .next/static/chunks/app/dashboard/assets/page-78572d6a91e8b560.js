(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5096],{7118:(e,s,a)=>{Promise.resolve().then(a.bind(a,5896))},5896:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var l=a(7437),r=a(2265),i=a(8185),n=a(9733),t=a(9055),d=a(7304),c=a(4662),o=a(7209),h=a(402),x=a(9888),m=a(2513),u=a(5733),j=a(6649),p=a(883),v=a(6763),g=a(8064);let N=(0,g.createServerReference)("a7eb812907964528f68beaa3af73c84221e7944e",g.callServer,void 0,g.findSourceMapURL,"getAssets"),y=(0,g.createServerReference)("ed74d0aea9c78438e681bc4a5324fa93c6661e6e",g.callServer,void 0,g.findSourceMapURL,"deleteAsset");var f=a(9783),b=a(3274),w=a(4817),k=a(7149);function A(){let[e,s]=(0,r.useState)([]),[a,g]=(0,r.useState)([]),[A,C]=(0,r.useState)([]),[I,S]=(0,r.useState)([]),[T,P]=(0,r.useState)(!0),[L,Q]=(0,r.useState)(!1),[E,R]=(0,r.useState)(!1),[D,_]=(0,r.useState)(!1),[F,B]=(0,r.useState)(!1),[K,z]=(0,r.useState)(""),[V,Z]=(0,r.useState)(null),[M,q]=(0,r.useState)(!1),[G,O]=(0,r.useState)(!1),[J,Y]=(0,r.useState)(""),[H,U]=(0,r.useState)("all"),[$,W]=(0,r.useState)("all"),[X,ee]=(0,r.useState)(1),[es]=(0,r.useState)(10),[ea,el]=(0,r.useState)({name:"",category:"LAINNYA",status:"ACTIVE",polresId:"",assignedTo:"",kind:"",categoryLevel1:"",categoryLevel2:"",categoryLevel3:"",source:"",inventoryNumber:"",year:new Date().getFullYear().toString(),poldaId:"",qrData:""}),{toast:er}=(0,v.pm)();(0,r.useEffect)(()=>{ei(),en(),ec(),ed()},[]);let ei=async()=>{try{let e=await N();e.assets?s(e.assets):e.error&&er({title:"Error",description:e.error,variant:"destructive"})}catch(e){er({title:"Error",description:"Gagal memuat data aset",variant:"destructive"})}finally{P(!1)}},en=async()=>{try{let e=await fetch("/api/polres/simple"),s=await e.json();g(s)}catch(e){}},et=async e=>{try{let s=await fetch("/api/polres/simple?poldaId=".concat(e)),a=await s.json();g(a)}catch(e){}};(0,r.useEffect)(()=>{ea.poldaId&&(et(ea.poldaId),el(e=>({...e,polresId:""})))},[ea.poldaId]);let ed=async()=>{try{let e=await fetch("/api/polda/simple"),s=await e.json();C(s)}catch(e){}},ec=async()=>{try{let e=await fetch("/api/users/approved"),s=await e.json();S(s)}catch(e){}},eo=async e=>{e.preventDefault(),q(!0);try{let e={name:ea.name,category:ea.category,polresId:ea.polresId,assignedTo:"none"===ea.assignedTo?null:ea.assignedTo||null,kind:ea.kind||null,categoryLevel1:ea.categoryLevel1||null,categoryLevel2:ea.categoryLevel2||null,categoryLevel3:ea.categoryLevel3||null,source:ea.source||null,inventoryNumber:ea.inventoryNumber||null,year:ea.year?parseInt(ea.year):null,poldaId:ea.poldaId||null,qrData:null},s=await fetch("/api/assets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(s.ok){let s=window.location.origin,l="".concat(s,"/asset/").concat(a.asset.id),r=await f.toDataURL(l,{width:256});await fetch("/api/assets/".concat(a.asset.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,qrData:r})}),er({title:"Sukses",description:a.success}),Q(!1),em(),ei()}else er({title:"Error",description:a.error||"Gagal menambah aset",variant:"destructive"})}catch(e){er({title:"Error",description:"Terjadi kesalahan saat menyimpan aset",variant:"destructive"})}finally{q(!1)}},eh=e=>{var s,a;Z(e),el({name:e.name,category:e.category,status:e.status,polresId:e.polresId,assignedTo:e.assignedTo||"none",kind:e.kind||"",categoryLevel1:e.categoryLevel1||"",categoryLevel2:e.categoryLevel2||"",categoryLevel3:e.categoryLevel3||"",source:e.source||"",inventoryNumber:e.inventoryNumber||"",year:(null===(s=e.year)||void 0===s?void 0:s.toString())||new Date().getFullYear().toString(),poldaId:(null===(a=e.polda)||void 0===a?void 0:a.id)||"",qrData:e.qrData||""}),R(!0)},ex=async e=>{if(e.preventDefault(),V){q(!0);try{let e={name:ea.name,category:ea.category,status:ea.status,assignedTo:"none"===ea.assignedTo?null:ea.assignedTo||null,kind:ea.kind||null,categoryLevel1:ea.categoryLevel1||null,categoryLevel2:ea.categoryLevel2||null,categoryLevel3:ea.categoryLevel3||null,source:ea.source||null,inventoryNumber:ea.inventoryNumber||null,year:ea.year?parseInt(ea.year):null,poldaId:ea.poldaId||null,qrData:ea.qrData||null},s=await fetch("/api/assets/".concat(V.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();s.ok?(er({title:"Sukses",description:a.success||"Asset berhasil diperbarui"}),R(!1),em(),ei()):er({title:"Error",description:a.error||"Gagal memperbarui aset",variant:"destructive"})}catch(e){er({title:"Error",description:"Terjadi kesalahan saat memperbarui aset",variant:"destructive"})}finally{q(!1)}}},em=()=>{el({name:"",category:"LAINNYA",status:"ACTIVE",polresId:"",assignedTo:"none",kind:"",categoryLevel1:"",categoryLevel2:"",categoryLevel3:"",source:"",inventoryNumber:"",year:new Date().getFullYear().toString(),poldaId:"",qrData:""}),Z(null)},eu=e=>{switch(e){case"ACTIVE":return(0,l.jsx)(t.C,{className:"bg-green-100 text-green-800",children:"Aktif"});case"DAMAGED":return(0,l.jsx)(t.C,{className:"bg-red-100 text-red-800",children:"Rusak"});case"TRANSFERRED":return(0,l.jsx)(t.C,{className:"bg-blue-100 text-blue-800",children:"Ditransfer"});case"LOST":return(0,l.jsx)(t.C,{className:"bg-orange-100 text-orange-800",children:"Hilang"});case"MAINTENANCE":return(0,l.jsx)(t.C,{className:"bg-yellow-100 text-yellow-800",children:"Pemeliharaan"});case"RETIRED":return(0,l.jsx)(t.C,{className:"bg-gray-100 text-gray-800",children:"Pensiun"});default:return(0,l.jsx)(t.C,{variant:"secondary",children:e})}},ej=e=>e?(0,l.jsx)(t.C,{className:"DIGITAL"===e?"bg-indigo-100 text-indigo-800":"bg-teal-100 text-teal-800",children:"DIGITAL"===e?"Digital":"BARANG"===e?"Fisik":e}):(0,l.jsx)(t.C,{variant:"secondary",children:"-"}),ep=e.filter(e=>{let s=""===J||e.name.toLowerCase().includes(J.toLowerCase())||e.categoryLevel3&&e.categoryLevel3.toLowerCase().includes(J.toLowerCase())||e.inventoryNumber&&e.inventoryNumber.toLowerCase().includes(J.toLowerCase()),a=""===H||"all"===H||e.status===H,l=""===$||"all"===$||e.kind===$;return s&&a&&l}),ev=Math.ceil(ep.length/es),eg=(X-1)*es,eN=eg+es,ey=ep.slice(eg,eN);if((0,r.useEffect)(()=>{ee(1)},[J,H,$]),T)return(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"text-lg",children:"Memuat data aset..."})});let ef=async()=>{if(V)try{let e=await y(V.id);e.success?(er({title:"Sukses",description:e.success}),_(!1),ei()):er({title:"Error",description:e.error||"Gagal menghapus aset",variant:"destructive"})}catch(e){er({title:"Error",description:"Gagal menghapus aset",variant:"destructive"})}};return(0,l.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Manajemen Aset"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Kelola data aset dan inventaris"})]}),(0,l.jsxs)(c.Vq,{open:L,onOpenChange:Q,children:[(0,l.jsx)(c.hg,{asChild:!0,children:(0,l.jsxs)(n.z,{className:"w-full sm:w-auto",children:[(0,l.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Tambah Aset"]})}),(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Tambah Aset Baru"})}),(0,l.jsxs)("form",{onSubmit:eo,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"name",children:"Nama Aset *"}),(0,l.jsx)(o.I,{id:"name",value:ea.name,onChange:e=>el({...ea,name:e.target.value}),placeholder:"Masukkan nama aset",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"kind",children:"Jenis Aset *"}),(0,l.jsxs)(x.Ph,{value:ea.kind,onValueChange:e=>el({...ea,kind:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih jenis aset"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"DIGITAL",children:"Digital"}),(0,l.jsx)(x.Ql,{value:"BARANG",children:"Fisik"})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"category",children:"Kategori"}),(0,l.jsxs)(x.Ph,{value:ea.category,onValueChange:e=>el({...ea,category:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih kategori"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"KENDARAAN",children:"Kendaraan"}),(0,l.jsx)(x.Ql,{value:"SENJATA",children:"Senjata"}),(0,l.jsx)(x.Ql,{value:"PERALATAN",children:"Peralatan"}),(0,l.jsx)(x.Ql,{value:"KOMPUTER",children:"Komputer"}),(0,l.jsx)(x.Ql,{value:"KOMUNIKASI",children:"Komunikasi"}),(0,l.jsx)(x.Ql,{value:"LAINNYA",children:"Lainnya"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"year",children:"Tahun"}),(0,l.jsx)(o.I,{id:"year",type:"number",value:ea.year,onChange:e=>el({...ea,year:e.target.value}),placeholder:"Tahun"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"source",children:"Sumber"}),(0,l.jsxs)(x.Ph,{value:ea.source,onValueChange:e=>el({...ea,source:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih sumber"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"APBN",children:"APBN"}),(0,l.jsx)(x.Ql,{value:"HIBAH",children:"Hibah"}),(0,l.jsx)(x.Ql,{value:"KERJASAMA",children:"Kerjasama"}),(0,l.jsx)(x.Ql,{value:"LAINNYA",children:"Lainnya"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"inventoryNumber",children:"Nomor Inventaris"}),(0,l.jsx)(o.I,{id:"inventoryNumber",value:ea.inventoryNumber,onChange:e=>el({...ea,inventoryNumber:e.target.value}),placeholder:"Masukkan nomor inventaris"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"polda",children:"Polda"}),(0,l.jsxs)(x.Ph,{value:ea.poldaId,onValueChange:e=>el({...ea,poldaId:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih Polda"})}),(0,l.jsx)(x.Bw,{children:A.map(e=>(0,l.jsx)(x.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"polres",children:"Polres"}),(0,l.jsxs)(x.Ph,{value:ea.polresId,onValueChange:e=>el({...ea,polresId:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih Polres"})}),(0,l.jsx)(x.Bw,{children:a.map(e=>(0,l.jsx)(x.Ql,{value:e.id,children:e.name},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"assignedTo",children:"Ditugaskan Kepada"}),(0,l.jsxs)(x.Ph,{value:ea.assignedTo,onValueChange:e=>el({...ea,assignedTo:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih pengguna"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"none",children:"Tidak ditugaskan"}),I.map(e=>(0,l.jsx)(x.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>Q(!1),children:"Batal"}),(0,l.jsx)(n.z,{type:"submit",disabled:M,children:M?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan"})]})]})]})]})]}),(0,l.jsx)(i.Zb,{children:(0,l.jsx)(i.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-2",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"search",children:"Cari"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(w.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,l.jsx)(o.I,{id:"search",placeholder:"Cari nama aset...",value:J,onChange:e=>Y(e.target.value),className:"pl-10"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"status",children:"Status"}),(0,l.jsxs)(x.Ph,{value:H,onValueChange:e=>U(e),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Semua Status"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"all",children:"Semua Status"}),(0,l.jsx)(x.Ql,{value:"ACTIVE",children:"Aktif"}),(0,l.jsx)(x.Ql,{value:"INACTIVE",children:"Tidak Aktif"}),(0,l.jsx)(x.Ql,{value:"MAINTENANCE",children:"Maintenance"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"kind",children:"Jenis"}),(0,l.jsxs)(x.Ph,{value:$,onValueChange:e=>W(e),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Semua Jenis"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"all",children:"Semua Jenis"}),(0,l.jsx)(x.Ql,{value:"DIGITAL",children:"Digital"}),(0,l.jsx)(x.Ql,{value:"BARANG",children:"Fisik"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{children:"Aksi"}),(0,l.jsx)(n.z,{variant:"outline",onClick:()=>{Y(""),U("all"),W("all")},className:"w-full",children:"Reset Filter"})]})]})})}),(0,l.jsx)("div",{className:"lg:hidden space-y-4",children:0===ey.length?(0,l.jsx)(i.Zb,{children:(0,l.jsx)(i.aY,{className:"text-center py-8 text-gray-500",children:"Tidak ada data aset"})}):ey.map(e=>{var s,a;return(0,l.jsx)(i.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.category||"-"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["No. Inventaris: ",e.inventoryNumber||"-"]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[ej(e.kind),eu(e.status)]})]}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Polda:"})," ",(null===(s=e.polda)||void 0===s?void 0:s.name)||"-"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Polres:"})," ",(null===(a=e.polres)||void 0===a?void 0:a.name)||"-"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Sumber:"})," ",e.source||"-"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Tahun:"})," ",e.year||"-"]})]})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 pt-2",children:[(0,l.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-green-600 border-green-200 text-white hover:bg-green-100",onClick:()=>{z(e.qrData||""),B(!0)},title:"Lihat QR",children:[(0,l.jsx)(u.Z,{className:"mr-1 h-3 w-3 text-white"}),"QR"]}),(0,l.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-blue-600 border-blue-200 text-white hover:bg-blue-100",onClick:()=>eh(e),title:"Edit",children:[(0,l.jsx)(j.Z,{className:"mr-1 h-3 w-3 text-white"}),"Edit"]}),(0,l.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-red-600 border-red-200 text-white hover:bg-red-100",onClick:()=>{Z(e),_(!0)},title:"Hapus",children:[(0,l.jsx)(p.Z,{className:"mr-1 h-3 w-3 text-white"}),"Hapus"]})]})]})},e.id)})}),(0,l.jsx)(i.Zb,{className:"hidden lg:block",children:(0,l.jsxs)(i.aY,{children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(d.iA,{children:[(0,l.jsx)(d.xD,{children:(0,l.jsxs)(d.SC,{children:[(0,l.jsx)(d.ss,{children:"Nama Aset"}),(0,l.jsx)(d.ss,{children:"Kategori"}),(0,l.jsx)(d.ss,{children:"Jenis"}),(0,l.jsx)(d.ss,{children:"Status"}),(0,l.jsx)(d.ss,{children:"Polda"}),(0,l.jsx)(d.ss,{children:"Polres"}),(0,l.jsx)(d.ss,{children:"No. Inventaris"}),(0,l.jsx)(d.ss,{className:"w-[200px]",children:"Aksi"})]})}),(0,l.jsx)(d.RM,{children:0===ey.length?(0,l.jsx)(d.SC,{children:(0,l.jsx)(d.pj,{colSpan:8,className:"text-center py-8 text-gray-500",children:"Tidak ada data aset"})}):ey.map(e=>{var s,a;return(0,l.jsxs)(d.SC,{children:[(0,l.jsx)(d.pj,{className:"font-medium",children:e.name}),(0,l.jsx)(d.pj,{children:e.category||"-"}),(0,l.jsx)(d.pj,{children:ej(e.kind)}),(0,l.jsx)(d.pj,{children:eu(e.status)}),(0,l.jsx)(d.pj,{children:(null===(s=e.polda)||void 0===s?void 0:s.name)||"-"}),(0,l.jsx)(d.pj,{children:(null===(a=e.polres)||void 0===a?void 0:a.name)||"-"}),(0,l.jsx)(d.pj,{children:e.inventoryNumber||"-"}),(0,l.jsx)(d.pj,{children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-green-600 border-green-200 text-white hover:bg-green-100",onClick:()=>{z(e.qrData||""),B(!0)},title:"Lihat QR",children:[(0,l.jsx)(u.Z,{className:"mr-1 h-3 w-3 text-white"}),"QR"]}),(0,l.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-blue-600 border-blue-200 text-white hover:bg-blue-100",onClick:()=>eh(e),title:"Edit",children:[(0,l.jsx)(j.Z,{className:"mr-1 h-3 w-3 text-white"}),"Edit"]}),(0,l.jsxs)(n.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-red-600 border-red-200 text-white hover:bg-red-100",onClick:()=>{Z(e),_(!0)},title:"Hapus",children:[(0,l.jsx)(p.Z,{className:"mr-1 h-3 w-3 text-white"}),"Hapus"]})]})})]},e.id)})})]})}),ev>1&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)(k.tl,{children:(0,l.jsxs)(k.ng,{children:[(0,l.jsx)(k.nt,{children:(0,l.jsx)(k.dN,{onClick:()=>ee(X-1),className:1===X?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:ev},(e,s)=>s+1).map(e=>(0,l.jsx)(k.nt,{children:(0,l.jsx)(k.kN,{onClick:()=>ee(e),isActive:e===X,className:"cursor-pointer",children:e})},e)),(0,l.jsx)(k.nt,{children:(0,l.jsx)(k.$0,{onClick:()=>ee(X+1),className:X===ev?"pointer-events-none opacity-50":"cursor-pointer"})})]})}),(0,l.jsxs)("div",{className:"text-center mt-4 text-sm text-gray-500",children:["Menampilkan ",eg+1," - ",eN," dari ",ep.length," data"]})]})]})}),(0,l.jsxs)(c.Vq,{open:E,onOpenChange:R,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Edit Aset"})}),(0,l.jsxs)("form",{onSubmit:ex,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-name",children:"Nama Aset *"}),(0,l.jsx)(o.I,{id:"edit-name",value:ea.name,onChange:e=>el({...ea,name:e.target.value}),placeholder:"Masukkan nama aset",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-kind",children:"Jenis Aset *"}),(0,l.jsxs)(x.Ph,{value:ea.kind,onValueChange:e=>el({...ea,kind:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih jenis aset"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"DIGITAL",children:"Digital"}),(0,l.jsx)(x.Ql,{value:"BARANG",children:"Fisik"})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-category",children:"Kategori"}),(0,l.jsxs)(x.Ph,{value:ea.category,onValueChange:e=>el({...ea,category:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih kategori"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"KENDARAAN",children:"Kendaraan"}),(0,l.jsx)(x.Ql,{value:"SENJATA",children:"Senjata"}),(0,l.jsx)(x.Ql,{value:"PERALATAN",children:"Peralatan"}),(0,l.jsx)(x.Ql,{value:"KOMPUTER",children:"Komputer"}),(0,l.jsx)(x.Ql,{value:"KOMUNIKASI",children:"Komunikasi"}),(0,l.jsx)(x.Ql,{value:"LAINNYA",children:"Lainnya"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-year",children:"Tahun"}),(0,l.jsx)(o.I,{id:"edit-year",type:"number",value:ea.year,onChange:e=>el({...ea,year:e.target.value}),placeholder:"Tahun"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-source",children:"Sumber"}),(0,l.jsxs)(x.Ph,{value:ea.source,onValueChange:e=>el({...ea,source:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih sumber"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"APBN",children:"APBN"}),(0,l.jsx)(x.Ql,{value:"HIBAH",children:"Hibah"}),(0,l.jsx)(x.Ql,{value:"KERJASAMA",children:"Kerjasama"}),(0,l.jsx)(x.Ql,{value:"LAINNYA",children:"Lainnya"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-inventoryNumber",children:"Nomor Inventaris"}),(0,l.jsx)(o.I,{id:"edit-inventoryNumber",value:ea.inventoryNumber,onChange:e=>el({...ea,inventoryNumber:e.target.value}),placeholder:"Masukkan nomor inventaris"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-polda",children:"Polda"}),(0,l.jsxs)(x.Ph,{value:ea.poldaId,onValueChange:e=>el({...ea,poldaId:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih Polda"})}),(0,l.jsx)(x.Bw,{children:A.map(e=>(0,l.jsx)(x.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-polres",children:"Polres"}),(0,l.jsxs)(x.Ph,{value:ea.polresId,onValueChange:e=>el({...ea,polresId:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih Polres"})}),(0,l.jsx)(x.Bw,{children:a.map(e=>(0,l.jsx)(x.Ql,{value:e.id,children:e.name},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(h._,{htmlFor:"edit-assignedTo",children:"Ditugaskan Kepada"}),(0,l.jsxs)(x.Ph,{value:ea.assignedTo,onValueChange:e=>el({...ea,assignedTo:e}),children:[(0,l.jsx)(x.i4,{children:(0,l.jsx)(x.ki,{placeholder:"Pilih pengguna"})}),(0,l.jsxs)(x.Bw,{children:[(0,l.jsx)(x.Ql,{value:"none",children:"Tidak ditugaskan"}),I.map(e=>(0,l.jsx)(x.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Batal"}),(0,l.jsx)(n.z,{type:"submit",disabled:M,children:M?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})]})]}),(0,l.jsxs)(c.Vq,{open:F,onOpenChange:B,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-md",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"QR Code Aset"})}),(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[K&&(0,l.jsx)("div",{className:"p-4 bg-white rounded-lg",children:(0,l.jsx)("img",{src:K,alt:"QR Code",className:"w-48 h-48 mx-auto"})}),(0,l.jsx)(n.z,{onClick:()=>{if(K){let e=document.createElement("a");e.href=K,e.download="asset-qr-".concat((null==V?void 0:V.name)||"unknown",".png"),document.body.appendChild(e),e.click(),document.body.removeChild(e),er({title:"Sukses",description:"QR Code berhasil diunduh"})}},className:"w-full",children:"Download QR Code"})]})]})]}),(0,l.jsxs)(c.Vq,{open:D,onOpenChange:_,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[425px]",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Hapus Aset"})}),(0,l.jsx)("div",{className:"py-4",children:(0,l.jsxs)("p",{className:"text-gray-600",children:['Apakah Anda yakin ingin menghapus aset "',null==V?void 0:V.name,'"? Tindakan ini tidak dapat dibatalkan.']})}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(n.z,{variant:"outline",onClick:()=>_(!1),children:"Batal"}),(0,l.jsx)(n.z,{variant:"destructive",onClick:ef,children:"Hapus"})]})]})]})]})}},9888:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>j,Ph:()=>o,Ql:()=>p,i4:()=>x,ki:()=>h});var l=a(7437),r=a(2265),i=a(5565),n=a(2421),t=a(4392),d=a(2468),c=a(9354);let o=i.fC;i.ZA;let h=i.B4,x=r.forwardRef((e,s)=>{let{className:a,children:r,...t}=e;return(0,l.jsxs)(i.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...t,children:[r,(0,l.jsx)(i.JO,{asChild:!0,children:(0,l.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=i.xz.displayName;let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(i.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,l.jsx)(t.Z,{className:"h-4 w-4"})})});m.displayName=i.u_.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(i.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,l.jsx)(n.Z,{className:"h-4 w-4"})})});u.displayName=i.$G.displayName;let j=r.forwardRef((e,s)=>{let{className:a,children:r,position:n="popper",...t}=e;return(0,l.jsx)(i.h_,{children:(0,l.jsxs)(i.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...t,children:[(0,l.jsx)(m,{}),(0,l.jsx)(i.l_,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,l.jsx)(u,{})]})})});j.displayName=i.VY.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(i.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=i.__.displayName;let p=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,l.jsxs)(i.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(i.wU,{children:(0,l.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(i.eT,{children:r})]})});p.displayName=i.ck.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(i.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=i.Z0.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[8502,6252,1114,2812,9636,8700,8778,6133,5410,7130,6215,1744],()=>s(7118)),_N_E=e.O()}]);