(()=>{var e={};e.id=7001,e.ids=[7001],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},74196:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>o,routeModule:()=>h,tree:()=>c});var l=a(3003),t=a(14293),r=a(66550),i=a.n(r),n=a(86979),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["dashboard",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,14746)),"C:\\Users\\sulth\\Documents\\work\\police-inventory\\src\\app\\dashboard\\reports\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,87563)),"C:\\Users\\sulth\\Documents\\work\\police-inventory\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,37973)),"C:\\Users\\sulth\\Documents\\work\\police-inventory\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,52075,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\sulth\\Documents\\work\\police-inventory\\src\\app\\dashboard\\reports\\page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/reports/page",pathname:"/dashboard/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},51755:(e,s,a)=>{Promise.resolve().then(a.bind(a,44349))},12714:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});let l=(0,a(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},83855:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});let l=(0,a(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69508:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});let l=(0,a(62881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},44349:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var l=a(68819),t=a(17266),r=a(29752),i=a(91664),n=a(38443),d=a(41156),c=a(20968),o=a(41190),p=a(44794),h=a(29280),x=a(82015),m=a(83855),u=a(77506),j=a(88307),g=a(12714),v=a(69508),y=a(36283),N=a(98091),f=a(84097),b=a(5523);function w(){let[e,s]=(0,t.useState)([]),[a,w]=(0,t.useState)([]),[k,C]=(0,t.useState)([]),[T,S]=(0,t.useState)([]),[P,D]=(0,t.useState)([]),[E,_]=(0,t.useState)(!0),[M,I]=(0,t.useState)(!1),[z,Z]=(0,t.useState)(!1),[L,U]=(0,t.useState)(!1),[R,O]=(0,t.useState)(!1),[F,A]=(0,t.useState)(!1),[Q,B]=(0,t.useState)(!1),[V,q]=(0,t.useState)(null),[$,G]=(0,t.useState)(""),[K,J]=(0,t.useState)("all"),[H,Y]=(0,t.useState)("all"),[W,X]=(0,t.useState)(1),[ee]=(0,t.useState)(10),[es,ea]=(0,t.useState)({title:"",type:"",customType:"",description:"",poldaId:"",polresId:""}),[el,et]=(0,t.useState)({name:"",description:""}),{toast:er}=(0,f.pm)(),ei=async()=>{try{_(!0);let e=await fetch("/api/reports");if(e.ok){let a=await e.json();s(a.reports||a)}else er({title:"Error",description:"Gagal memuat data laporan",variant:"destructive"})}catch(e){console.error("Error fetching reports:",e),er({title:"Error",description:"Gagal memuat data laporan",variant:"destructive"})}finally{_(!1)}},en=async()=>{try{let e=await fetch("/api/reports/custom-types");if(e.ok){let s=await e.json();D(s)}}catch(e){console.error("Error fetching custom types:",e)}},ed=async e=>{e.preventDefault(),I(!0);try{let e=await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(es)});if(e.ok)er({title:"Sukses",description:"Laporan berhasil dibuat"}),Z(!1),ej(),ei();else{let s=await e.json();er({title:"Error",description:s.error||"Gagal membuat laporan",variant:"destructive"})}}catch(e){er({title:"Error",description:"Terjadi kesalahan saat membuat laporan",variant:"destructive"})}finally{I(!1)}},ec=async e=>{if(e.preventDefault(),V){I(!0);try{let e=await fetch(`/api/reports/${V.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(es)});if(e.ok)er({title:"Sukses",description:"Laporan berhasil diperbarui"}),U(!1),ej(),ei();else{let s=await e.json();er({title:"Error",description:s.error||"Gagal memperbarui laporan",variant:"destructive"})}}catch(e){er({title:"Error",description:"Terjadi kesalahan saat memperbarui laporan",variant:"destructive"})}finally{I(!1)}}},eo=async()=>{if(V){I(!0);try{let e=await fetch(`/api/reports/${V.id}`,{method:"DELETE"});if(e.ok)er({title:"Sukses",description:"Laporan berhasil dihapus"}),A(!1),q(null),ei();else{let s=await e.json();er({title:"Error",description:s.error||"Gagal menghapus laporan",variant:"destructive"})}}catch(e){er({title:"Error",description:"Terjadi kesalahan saat menghapus laporan",variant:"destructive"})}finally{I(!1)}}},ep=async(e,s)=>{try{let a=await fetch(`/api/reports/${e}/export?format=${s}`);if(a.ok){let l=await a.blob(),t=window.URL.createObjectURL(l),r=document.createElement("a");r.href=t,r.download=`laporan-${e}.${s}`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t),document.body.removeChild(r),er({title:"Sukses",description:`Laporan berhasil diexport ke ${s.toUpperCase()}`})}else er({title:"Error",description:"Gagal mengexport laporan",variant:"destructive"})}catch(e){er({title:"Error",description:"Terjadi kesalahan saat mengexport laporan",variant:"destructive"})}},eh=async e=>{e.preventDefault();try{let e=await fetch("/api/reports/custom-types",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(el)});if(e.ok)er({title:"Sukses",description:"Tipe laporan kustom berhasil dibuat"}),B(!1),et({name:"",description:""}),en();else{let s=await e.json();er({title:"Error",description:s.error||"Gagal membuat tipe laporan kustom",variant:"destructive"})}}catch(e){er({title:"Error",description:"Terjadi kesalahan saat membuat tipe laporan kustom",variant:"destructive"})}},ex=async e=>{q(e);let s={title:e.title,type:e.type,customType:e.customType||"",description:e.description,poldaId:e.polda?.id||"",polresId:e.polres?.id||""};if(ea(s),s.poldaId){let e=await fetch(`/api/polres/simple?poldaId=${s.poldaId}`);C(await e.json())}else C([]);U(!0)},em=e=>{q(e),O(!0)},eu=e=>{q(e),A(!0)},ej=()=>{ea({title:"",type:"",customType:"",description:"",poldaId:"",polresId:""}),C([]),q(null)},eg=e=>{switch(e){case"DRAFT":return(0,l.jsx)(n.C,{className:"bg-gray-100 text-gray-800",children:"Draft"});case"SUBMITTED":return(0,l.jsx)(n.C,{className:"bg-blue-100 text-blue-800",children:"Dikirim"});case"REVIEWED":return(0,l.jsx)(n.C,{className:"bg-yellow-100 text-yellow-800",children:"Direview"});case"APPROVED":return(0,l.jsx)(n.C,{className:"bg-green-100 text-green-800",children:"Disetujui"});case"REJECTED":return(0,l.jsx)(n.C,{className:"bg-red-100 text-red-800",children:"Ditolak"});default:return(0,l.jsx)(n.C,{variant:"secondary",children:e})}},ev=(e,s)=>(0,l.jsx)(n.C,{className:{UMUM:"bg-blue-100 text-blue-800",INTERNAL:"bg-green-100 text-green-800",CUSTOM:"bg-purple-100 text-purple-800"}[e]||"bg-gray-100 text-gray-800",children:"CUSTOM"===e&&s?s:e}),ey=e.filter(e=>{let s=""===$||e.title.toLowerCase().includes($.toLowerCase())||e.description.toLowerCase().includes($.toLowerCase()),a="all"===K||e.status===K,l="all"===H||e.type===H;return s&&a&&l}),eN=Math.ceil(ey.length/ee),ef=(W-1)*ee,eb=ef+ee,ew=ey.slice(ef,eb);return E?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"text-lg",children:"Memuat data laporan..."})}):(0,l.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Manajemen Laporan"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Kelola data laporan dan dokumen"})]}),(0,l.jsxs)(c.Vq,{open:z,onOpenChange:Z,children:[(0,l.jsx)(c.hg,{asChild:!0,children:(0,l.jsxs)(i.z,{className:"w-full sm:w-auto",children:[(0,l.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Buat Laporan"]})}),(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Buat Laporan Baru"})}),(0,l.jsxs)("form",{onSubmit:ed,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"title",children:"Judul Laporan *"}),(0,l.jsx)(o.I,{id:"title",value:es.title,onChange:e=>ea({...es,title:e.target.value}),placeholder:"Masukkan judul laporan",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"type",children:"Tipe Laporan *"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(h.Ph,{value:es.type,onValueChange:e=>ea({...es,type:e,customType:""}),children:[(0,l.jsx)(h.i4,{className:"flex-1",children:(0,l.jsx)(h.ki,{placeholder:"Pilih tipe laporan"})}),(0,l.jsxs)(h.Bw,{children:[(0,l.jsx)(h.Ql,{value:"UMUM",children:"Umum"}),(0,l.jsx)(h.Ql,{value:"INTERNAL",children:"Internal"}),(0,l.jsx)(h.Ql,{value:"CUSTOM",children:"Kustom"})]})]}),"CUSTOM"===es.type&&(0,l.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>B(!0),className:"whitespace-nowrap",children:[(0,l.jsx)(m.Z,{className:"mr-1 h-3 w-3"}),"Tambah Tipe"]})]}),"CUSTOM"===es.type&&(0,l.jsxs)(h.Ph,{value:es.customType,onValueChange:e=>ea({...es,customType:e}),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:"Pilih tipe kustom"})}),(0,l.jsx)(h.Bw,{children:P.map(e=>(0,l.jsx)(h.Ql,{value:e.name,children:e.name},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"polda",children:"Polda"}),(0,l.jsxs)(h.Ph,{value:es.poldaId,onValueChange:e=>ea({...es,poldaId:e,polresId:""}),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:"Pilih Polda"})}),(0,l.jsx)(h.Bw,{children:T.map(e=>(0,l.jsx)(h.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"polres",children:"Polres"}),(0,l.jsxs)(h.Ph,{value:es.polresId,onValueChange:e=>ea({...es,polresId:e}),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:es.poldaId?"Pilih Polres":"Pilih Polda dulu"})}),(0,l.jsx)(h.Bw,{children:k.map(e=>(0,l.jsx)(h.Ql,{value:e.id,children:e.name},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"description",children:"Deskripsi *"}),(0,l.jsx)(x.g,{id:"description",value:es.description,onChange:e=>ea({...es,description:e.target.value}),placeholder:"Masukkan deskripsi laporan",rows:4,required:!0})]}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>Z(!1),children:"Batal"}),(0,l.jsx)(i.z,{type:"submit",disabled:M,children:M?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan"})]})]})]})]})]}),(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-2",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"search",children:"Cari"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(j.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,l.jsx)(o.I,{id:"search",placeholder:"Cari judul laporan...",value:$,onChange:e=>G(e.target.value),className:"pl-10"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"status",children:"Status"}),(0,l.jsxs)(h.Ph,{value:K,onValueChange:e=>J(e),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:"Semua Status"})}),(0,l.jsxs)(h.Bw,{children:[(0,l.jsx)(h.Ql,{value:"all",children:"Semua Status"}),(0,l.jsx)(h.Ql,{value:"DRAFT",children:"Draft"}),(0,l.jsx)(h.Ql,{value:"SUBMITTED",children:"Dikirim"}),(0,l.jsx)(h.Ql,{value:"REVIEWED",children:"Direview"}),(0,l.jsx)(h.Ql,{value:"APPROVED",children:"Disetujui"}),(0,l.jsx)(h.Ql,{value:"REJECTED",children:"Ditolak"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"type",children:"Tipe"}),(0,l.jsxs)(h.Ph,{value:H,onValueChange:e=>Y(e),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:"Semua Tipe"})}),(0,l.jsxs)(h.Bw,{children:[(0,l.jsx)(h.Ql,{value:"all",children:"Semua Tipe"}),(0,l.jsx)(h.Ql,{value:"UMUM",children:"Umum"}),(0,l.jsx)(h.Ql,{value:"INTERNAL",children:"Internal"}),(0,l.jsx)(h.Ql,{value:"CUSTOM",children:"Kustom"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{children:"Aksi"}),(0,l.jsx)(i.z,{variant:"outline",onClick:()=>{G(""),J("all"),Y("all")},className:"w-full",children:"Reset Filter"})]})]})})}),(0,l.jsx)("div",{className:"lg:hidden space-y-4",children:0===ew.length?(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"text-center py-8 text-gray-500",children:"Tidak ada data laporan"})}):ew.map(e=>(0,l.jsx)(r.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[ev(e.type,e.customType),eg(e.status)]})]}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Polda:"})," ",e.polda?.name||"-"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Polres:"})," ",e.polres?.name||"-"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Dibuat oleh:"})," ",e.user?.name||"-"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Tanggal:"})," ",new Date(e.createdAt).toLocaleDateString("id-ID")]})]})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 pt-2",children:[(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-blue-600 border-blue-200 text-white hover:bg-blue-100",onClick:()=>em(e),title:"Lihat",children:[(0,l.jsx)(g.Z,{className:"mr-1 h-3 w-3 text-white"}),"Lihat"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-green-600 border-green-200 text-white hover:bg-green-100",onClick:()=>ex(e),title:"Edit",children:[(0,l.jsx)(v.Z,{className:"mr-1 h-3 w-3 text-white"}),"Edit"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-purple-600 border-purple-200 text-white hover:bg-purple-100",onClick:()=>ep(e.id,"pdf"),title:"Export PDF",children:[(0,l.jsx)(y.Z,{className:"mr-1 h-3 w-3 text-white"}),"PDF"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-red-600 border-red-200 text-white hover:bg-red-100",onClick:()=>eu(e),title:"Hapus",children:[(0,l.jsx)(N.Z,{className:"mr-1 h-3 w-3 text-white"}),"Hapus"]})]})]})},e.id))}),(0,l.jsx)(r.Zb,{className:"hidden lg:block",children:(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(d.iA,{children:[(0,l.jsx)(d.xD,{children:(0,l.jsxs)(d.SC,{children:[(0,l.jsx)(d.ss,{children:"Judul"}),(0,l.jsx)(d.ss,{children:"Tipe"}),(0,l.jsx)(d.ss,{children:"Status"}),(0,l.jsx)(d.ss,{children:"Polda"}),(0,l.jsx)(d.ss,{children:"Polres"}),(0,l.jsx)(d.ss,{children:"Dibuat Oleh"}),(0,l.jsx)(d.ss,{children:"Tanggal"}),(0,l.jsx)(d.ss,{className:"w-[200px]",children:"Aksi"})]})}),(0,l.jsx)(d.RM,{children:0===ew.length?(0,l.jsx)(d.SC,{children:(0,l.jsx)(d.pj,{colSpan:8,className:"text-center py-8 text-gray-500",children:"Tidak ada data laporan"})}):ew.map(e=>(0,l.jsxs)(d.SC,{children:[(0,l.jsx)(d.pj,{className:"font-medium",children:e.title}),(0,l.jsx)(d.pj,{children:ev(e.type,e.customType)}),(0,l.jsx)(d.pj,{children:eg(e.status)}),(0,l.jsx)(d.pj,{children:e.polda?.name||"-"}),(0,l.jsx)(d.pj,{children:e.polres?.name||"-"}),(0,l.jsx)(d.pj,{children:e.user?.name||"-"}),(0,l.jsx)(d.pj,{children:new Date(e.createdAt).toLocaleDateString("id-ID")}),(0,l.jsx)(d.pj,{children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-blue-600 border-blue-200 text-white hover:bg-blue-100",onClick:()=>em(e),title:"Lihat",children:[(0,l.jsx)(g.Z,{className:"mr-1 h-3 w-3 text-white"}),"Lihat"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-green-600 border-green-200 text-white hover:bg-green-100",onClick:()=>ex(e),title:"Edit",children:[(0,l.jsx)(v.Z,{className:"mr-1 h-3 w-3 text-white"}),"Edit"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-purple-600 border-purple-200 text-white hover:bg-purple-100",onClick:()=>ep(e.id,"pdf"),title:"Export PDF",children:[(0,l.jsx)(y.Z,{className:"mr-1 h-3 w-3 text-white"}),"PDF"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs bg-red-600 border-red-200 text-white hover:bg-red-100",onClick:()=>eu(e),title:"Hapus",children:[(0,l.jsx)(N.Z,{className:"mr-1 h-3 w-3 text-white"}),"Hapus"]})]})})]},e.id))})]})}),eN>1&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)(b.tl,{children:(0,l.jsxs)(b.ng,{children:[(0,l.jsx)(b.nt,{children:(0,l.jsx)(b.dN,{onClick:()=>X(W-1),className:1===W?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:eN},(e,s)=>s+1).map(e=>(0,l.jsx)(b.nt,{children:(0,l.jsx)(b.kN,{onClick:()=>X(e),isActive:e===W,className:"cursor-pointer",children:e})},e)),(0,l.jsx)(b.nt,{children:(0,l.jsx)(b.$0,{onClick:()=>X(W+1),className:W===eN?"pointer-events-none opacity-50":"cursor-pointer"})})]})}),(0,l.jsxs)("div",{className:"text-center mt-4 text-sm text-gray-500",children:["Menampilkan ",ef+1," - ",eb," dari ",ey.length," data"]})]})]})}),(0,l.jsxs)(c.Vq,{open:L,onOpenChange:U,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Edit Laporan"})}),(0,l.jsxs)("form",{onSubmit:ec,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"edit-title",children:"Judul Laporan *"}),(0,l.jsx)(o.I,{id:"edit-title",value:es.title,onChange:e=>ea({...es,title:e.target.value}),placeholder:"Masukkan judul laporan",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"edit-type",children:"Tipe Laporan *"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(h.Ph,{value:es.type,onValueChange:e=>ea({...es,type:e,customType:""}),children:[(0,l.jsx)(h.i4,{className:"flex-1",children:(0,l.jsx)(h.ki,{placeholder:"Pilih tipe laporan"})}),(0,l.jsxs)(h.Bw,{children:[(0,l.jsx)(h.Ql,{value:"UMUM",children:"Umum"}),(0,l.jsx)(h.Ql,{value:"INTERNAL",children:"Internal"}),(0,l.jsx)(h.Ql,{value:"CUSTOM",children:"Kustom"})]})]}),"CUSTOM"===es.type&&(0,l.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>B(!0),className:"whitespace-nowrap",children:[(0,l.jsx)(m.Z,{className:"mr-1 h-3 w-3"}),"Tambah Tipe"]})]}),"CUSTOM"===es.type&&(0,l.jsxs)(h.Ph,{value:es.customType,onValueChange:e=>ea({...es,customType:e}),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:"Pilih tipe kustom"})}),(0,l.jsx)(h.Bw,{children:P.map(e=>(0,l.jsx)(h.Ql,{value:e.name,children:e.name},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"edit-polda",children:"Polda"}),(0,l.jsxs)(h.Ph,{value:es.poldaId,onValueChange:e=>ea({...es,poldaId:e,polresId:""}),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:"Pilih Polda"})}),(0,l.jsx)(h.Bw,{children:T.map(e=>(0,l.jsx)(h.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"edit-polres",children:"Polres"}),(0,l.jsxs)(h.Ph,{value:es.polresId,onValueChange:e=>ea({...es,polresId:e}),children:[(0,l.jsx)(h.i4,{children:(0,l.jsx)(h.ki,{placeholder:es.poldaId?"Pilih Polres":"Pilih Polda dulu"})}),(0,l.jsx)(h.Bw,{children:k.map(e=>(0,l.jsx)(h.Ql,{value:e.id,children:e.name},e.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"edit-description",children:"Deskripsi *"}),(0,l.jsx)(x.g,{id:"edit-description",value:es.description,onChange:e=>ea({...es,description:e.target.value}),placeholder:"Masukkan deskripsi laporan",rows:4,required:!0})]}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>U(!1),children:"Batal"}),(0,l.jsx)(i.z,{type:"submit",disabled:M,children:M?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})]})]}),(0,l.jsxs)(c.Vq,{open:R,onOpenChange:O,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Detail Laporan"})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Judul"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:V?.title})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Tipe"}),(0,l.jsx)("div",{className:"mt-1",children:V&&ev(V.type,V.customType)})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Status"}),(0,l.jsx)("div",{className:"mt-1",children:V&&eg(V.status)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Polda"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:V?.polda?.name||"-"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Polres"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:V?.polres?.name||"-"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Deskripsi"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:V?.description})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Dibuat Oleh"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:V?.user?.name||"-"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p._,{className:"font-medium",children:"Tanggal Dibuat"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:V?new Date(V.createdAt).toLocaleDateString("id-ID"):"-"})]})]})]}),(0,l.jsx)(c.cN,{children:(0,l.jsx)(i.z,{variant:"outline",onClick:()=>O(!1),children:"Tutup"})})]})]}),(0,l.jsxs)(c.Vq,{open:F,onOpenChange:A,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[425px]",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Hapus Laporan"})}),(0,l.jsx)("div",{className:"py-4",children:(0,l.jsxs)("p",{className:"text-gray-600",children:['Apakah Anda yakin ingin menghapus laporan "',V?.title,'"? Tindakan ini tidak dapat dibatalkan.']})}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(i.z,{variant:"outline",onClick:()=>A(!1),children:"Batal"}),(0,l.jsx)(i.z,{variant:"destructive",onClick:eo,children:"Hapus"})]})]})]}),(0,l.jsxs)(c.Vq,{open:Q,onOpenChange:B,children:[(0,l.jsx)(c.t9,{className:"bg-black/30 backdrop-blur-sm"}),(0,l.jsxs)(c.cZ,{className:"sm:max-w-[500px]",children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"Tambah Tipe Laporan Kustom"})}),(0,l.jsxs)("form",{onSubmit:eh,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"customTypeName",children:"Nama Tipe *"}),(0,l.jsx)(o.I,{id:"customTypeName",value:el.name,onChange:e=>et({...el,name:e.target.value}),placeholder:"Masukkan nama tipe laporan",required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p._,{htmlFor:"customTypeDescription",children:"Deskripsi"}),(0,l.jsx)(x.g,{id:"customTypeDescription",value:el.description,onChange:e=>et({...el,description:e.target.value}),placeholder:"Masukkan deskripsi tipe laporan (opsional)",rows:3})]}),(0,l.jsxs)(c.cN,{children:[(0,l.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>B(!1),children:"Batal"}),(0,l.jsx)(i.z,{type:"submit",children:"Simpan"})]})]})]})]})]})}},29280:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>u,Ph:()=>o,Ql:()=>j,i4:()=>h,ki:()=>p});var l=a(68819),t=a(17266),r=a(13326),i=a(941),n=a(96633),d=a(32933),c=a(51223);let o=r.fC;r.ZA;let p=r.B4,h=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(r.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,l.jsx)(r.JO,{asChild:!0,children:(0,l.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=r.xz.displayName;let x=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,l.jsx)(n.Z,{className:"h-4 w-4"})}));x.displayName=r.u_.displayName;let m=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,l.jsx)(i.Z,{className:"h-4 w-4"})}));m.displayName=r.$G.displayName;let u=t.forwardRef(({className:e,children:s,position:a="popper",...t},i)=>(0,l.jsx)(r.h_,{children:(0,l.jsxs)(r.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...t,children:[(0,l.jsx)(x,{}),(0,l.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,l.jsx)(m,{})]})}));u.displayName=r.VY.displayName,t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=r.__.displayName;let j=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(r.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.wU,{children:(0,l.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(r.eT,{children:s})]}));j.displayName=r.ck.displayName,t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=r.Z0.displayName},82015:(e,s,a)=>{"use strict";a.d(s,{g:()=>i});var l=a(68819),t=a(17266),r=a(51223);let i=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));i.displayName="Textarea"},14746:(e,s,a)=>{"use strict";a.a(e,async(e,l)=>{try{a.r(s),a.d(s,{default:()=>e});var t=a(71851);let e=(await (0,t.createProxy)(String.raw`C:\Users\sulth\Documents\work\police-inventory\src\app\dashboard\reports\page.tsx`)).default;l()}catch(e){l(e)}},1)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),l=s.X(0,[3267,8075,9404,41,985,8545,5717,6221],()=>a(74196));module.exports=l})();